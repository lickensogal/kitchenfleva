<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal Component</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Inter font -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7;
        }

        /* Modal specific styling for smooth transition */
        .modal-container {
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        /* Custom animation for the dialog entrance */
        .modal-dialog {
            animation: zoom-in 0.3s ease-out;
        }

        @keyframes zoom-in {
            from {
                transform: scale(0.95);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }
    </style>
</head>
<body>

    <!-- 1. MODAL CONTAINER (Hidden by default) -->
    <div id="generic-modal" 
         class="modal-container hidden fixed inset-0 z-50 overflow-y-auto" 
         aria-labelledby="modal-title" role="dialog" aria-modal="true">

        <!-- 2. Modal Backdrop (Clickable area outside the dialog) -->
        <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity" onclick="hideModal()"></div>

        <!-- 3. Modal Centering Wrapper -->
        <div class="flex items-center justify-center min-h-full p-4 sm:p-0">
            
            <!-- 4. Modal Dialog (The actual content box) -->
            <div class="modal-dialog bg-white rounded-xl shadow-2xl overflow-hidden transform transition-all sm:my-8 sm:w-full sm:max-w-lg">
                
                <!-- Dialog Content -->
                <div class="px-6 py-8">
                    <div class="sm:flex sm:items-start">
                        <!-- Icon Placeholder (e.g., Success, Error, Info icon) -->
                        <div id="modal-icon-wrapper" class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 sm:mx-0 sm:h-10 sm:w-10">
                            <!-- Default Info Icon -->
                            <svg id="modal-icon" class="h-6 w-6 text-indigo-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </div>
                        
                        <!-- Text Content -->
                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full">
                            <h3 class="text-xl leading-6 font-bold text-gray-900" id="modal-title">
                                Welcome to Kitchen Fleva!
                            </h3>
                            <div class="mt-4">
                                <p id="modal-body" class="text-sm text-gray-500">
                                    This is a reusable message box component. Call <code>showModal()</code> to display custom content.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="bg-gray-50 px-6 py-3 flex flex-row-reverse space-x-2 space-x-reverse">
                    <button type="button" 
                            id="modal-primary-button" 
                            class="w-full sm:w-auto inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm transition duration-150" 
                            onclick="hideModal()">
                        OK
                    </button>
                    <button type="button" 
                            id="modal-secondary-button" 
                            class="hidden w-full sm:w-auto inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm transition duration-150" 
                            onclick="hideModal()">
                        Cancel
                    </button>
                </div>

            </div>
        </div>
    </div>

    <!-- Demonstration Button -->
    <div class="p-10">
        <button onclick="showDemoModal()" class="px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition">
            Show Demo Modal
        </button>
    </div>

    <script>
        /**
         * Generic function to show the modal with custom content and actions.
         * @param {string} title - The main title of the modal.
         * @param {string} message - The body message content.
         * @param {string} [type='info'] - The type of message ('info', 'success', 'error', 'warning'). Changes icon and colors.
         * @param {object} [primaryAction] - Optional configuration for the primary button. { text: 'Confirm', callback: function }
         * @param {object} [secondaryAction] - Optional configuration for the secondary button (e.g., 'Cancel'). { text: 'Cancel', callback: function }
         */
        window.showModal = function(title, message, type = 'info', primaryAction = null, secondaryAction = null) {
            const modal = document.getElementById('generic-modal');
            const titleEl = document.getElementById('modal-title');
            const bodyEl = document.getElementById('modal-body');
            const iconWrapper = document.getElementById('modal-icon-wrapper');
            const iconEl = document.getElementById('modal-icon');
            const primaryBtn = document.getElementById('modal-primary-button');
            const secondaryBtn = document.getElementById('modal-secondary-button');
            
            // 1. Set Text Content
            titleEl.textContent = title;
            bodyEl.innerHTML = message;

            // 2. Set Colors and Icons based on type
            let iconSvgPath, bgColor, textColor;

            switch (type.toLowerCase()) {
                case 'success':
                    iconSvgPath = "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z";
                    bgColor = 'bg-green-100';
                    textColor = 'text-green-600';
                    break;
                case 'error':
                    iconSvgPath = "M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z";
                    bgColor = 'bg-red-100';
                    textColor = 'text-red-600';
                    break;
                case 'warning':
                    iconSvgPath = "M12 9v2m0 4h.01M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.82 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.82 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.82-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.82-3.31 2.37-2.37a1.724 1.724 0 002.572-1.065z"; // Placeholder for an exclamation icon
                    bgColor = 'bg-yellow-100';
                    textColor = 'text-yellow-600';
                    break;
                case 'info':
                default:
                    iconSvgPath = "M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z";
                    bgColor = 'bg-indigo-100';
                    textColor = 'text-indigo-600';
                    break;
            }

            // Apply classes and update icon
            iconWrapper.className = `mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full ${bgColor} sm:mx-0 sm:h-10 sm:w-10`;
            iconEl.className = `h-6 w-6 ${textColor}`;
            iconEl.querySelector('path').setAttribute('d', iconSvgPath);

            // 3. Configure Primary Button
            primaryBtn.textContent = primaryAction?.text || 'OK';
            primaryBtn.onclick = () => {
                hideModal();
                if (primaryAction && primaryAction.callback) {
                    primaryAction.callback();
                }
            };
            
            // 4. Configure Secondary Button
            if (secondaryAction) {
                secondaryBtn.textContent = secondaryAction.text;
                secondaryBtn.classList.remove('hidden');
                secondaryBtn.onclick = () => {
                    hideModal();
                    if (secondaryAction.callback) {
                        secondaryAction.callback();
                    }
                };
            } else {
                secondaryBtn.classList.add('hidden');
            }
            
            // 5. Show Modal
            modal.classList.remove('hidden');
        };

        window.hideModal = function() {
            document.getElementById('generic-modal').classList.add('hidden');
        };

        // --- Demo Function ---
        window.showDemoModal = function() {
            showModal(
                "Confirm Deletion",
                "Are you sure you want to delete this **Kitchen Fleva** recipe? This action cannot be undone.",
                'error',
                {
                    text: 'Yes, Delete Recipe',
                    callback: () => console.log('Recipe deletion confirmed.')
                },
                {
                    text: 'Cancel',
                    callback: () => console.log('Deletion cancelled.')
                }
            );
        }

        // Initialize with a default hidden state
        hideModal();
    </script>

</body>
  </html>
  
