<section id="recipe-single-page" class="section-container">
    <div class="breadcrumb-nav">
        <!-- Dynamic breadcrumb generated by router.js -->
        <a href="#home">Home</a> / <a href="#recipe-library">Recipes</a> / <span id="current-recipe-title"></span>
    </div>

    <!-- Recipe Header and Hero Image -->
    <header class="recipe-hero-header">
        <h1 id="recipe-title" class="hero-heading h1-heading">The Ultimate Kenyan Beef Stew (Mchuzi)</h1>
        
        <div class="recipe-meta-bar">
            <span id="recipe-rating-display" class="rating-badge">
                <i class="fas fa-star primary-color"></i> 4.9 (1,200 Reviews)
            </span>
            <span id="recipe-difficulty" class="meta-item"><i class="fas fa-layer-group"></i> Difficulty: Medium</span>
            <span id="recipe-servings" class="meta-item"><i class="fas fa-user-friends"></i> Servings: 4-6</span>
            <span id="recipe-time" class="meta-item"><i class="fas fa-clock"></i> Total Time: 1 hr 15 min</span>
        </div>

        <div class="recipe-image-wrapper">
            <!-- Featured Image -->
            <img id="recipe-featured-image" src="/assets/images/placeholders/recipe-placeholder.jpg" alt="Featured image of Kenyan Beef Stew" class="image-rounded-lg shadow-lg">
            
            <div class="recipe-actions-overlay">
                <button id="favorite-btn" class="icon-button-large"><i class="fas fa-heart"></i></button>
                <button id="share-btn" class="icon-button-large"><i class="fas fa-share-alt"></i></button>
                <button id="print-btn" class="icon-button-large"><i class="fas fa-print"></i></button>
            </div>
        </div>
    </header>

    <!-- Main Recipe Content Grid -->
    <div class="recipe-content-grid">
        
        <!-- Left Column: Ingredients and Instructions -->
        <div class="recipe-details-main">
            
            <section id="ingredients-section" class="card content-section">
                <h2 class="h3-heading">Ingredients</h2>
                <p id="recipe-description" class="body-text-large muted-text">A rich, slow-simmered stew perfect with ugali or chapati.</p>

                <!-- Ingredients List -->
                <ul id="ingredients-list" class="ingredient-list">
                    <!-- Dynamic ingredients loaded by JS -->
                    <li>1.5 kg beef, cubed</li>
                    <li>2 large tomatoes, chopped</li>
                    <li>1 onion, finely diced</li>
                    <li>2 garlic cloves, minced</li>
                    <li>1 tsp curry powder (for Fleva!)</li>
                    <li class="premium-ingredient-item hidden"><i class="fas fa-crown primary-color"></i> 1/2 tsp Garam Masala (Premium Spice)</li>
                </ul>

                <div id="premium-ingredients-cta" class="premium-cta-box hidden">
                    <p class="small-text">Unlock **Premium** ingredients and substitutions!</p>
                    <a href="#subscription" class="button secondary-button button-sm">Go Premium</a>
                </div>
            </section>

            <!-- Ad Placement: Inline Content Ad (Non-premium users) -->
            <div id="inline-ad-1" class="ad-container ad-inline-content">
                <span class="ad-label">ADVERTISEMENT</span>
                <p class="small-text">Sponsored affiliate spot.</p>
            </div>
            
            <section id="instructions-section" class="card content-section mt-lg">
                <h2 class="h3-heading">Step-by-Step Instructions</h2>
                <div id="instructions-list" class="instruction-list">
                    <!-- Dynamic steps loaded by JS -->
                    <div class="instruction-step">
                        <span class="step-number">1</span>
                        <p>Brown the beef cubes in oil over medium-high heat until sealed. Remove and set aside.</p>
                    </div>
                    <div class="instruction-step">
                        <span class="step-number">2</span>
                        <p>Sauté onions until translucent. Add garlic and cook for 1 minute until fragrant.</p>
                    </div>
                    <div class="instruction-step">
                        <span class="step-number">3</span>
                        <p>Return the beef, add curry powder and salt. Stir well for 2 minutes to toast the spices.</p>
                    </div>
                </div>

                <!-- AI Video Tutorial (Premium Feature) -->
                <div id="ai-video-box" class="ai-feature-box hidden-non-premium mt-lg">
                    <h4 class="h5-heading"><i class="fas fa-video secondary-color"></i> AI Video Guide</h4>
                    <p class="small-text">Watch a 30-second AI-generated clip of the complex steps.</p>
                    <button id="watch-video-btn" class="button primary-button button-sm">Watch Premium Clip</button>
                </div>
            </section>
        </div>

        <!-- Right Sidebar: Nutrition, Related Recipes, CTA -->
        <aside class="recipe-sidebar">
            <div class="card sidebar-box">
                <h4 class="h5-heading">Nutritional Snapshot</h4>
                <ul id="nutrition-list" class="nutrition-list">
                    <li>Calories: <span id="nut-cal">450 kcal</span></li>
                    <li>Protein: <span id="nut-prot">35g</span></li>
                    <li>Carbs: <span id="nut-carb">15g</span></li>
                    <li>Fat: <span id="nut-fat">28g</span></li>
                </ul>
                <div class="dietary-tags" id="dietary-tags-container">
                    <span class="tag tag-green">Meat</span>
                    <span class="tag tag-blue">High Protein</span>
                </div>
            </div>

            <div class="card sidebar-box mt-lg">
                <h4 class="h5-heading">Related Fleva</h4>
                <div id="related-recipes-list" class="related-list">
                    <!-- Related recipe cards (mini version) loaded by JS -->
                    <a href="#" class="related-item">Chapati (Flatbread)</a>
                    <a href="#" class="related-item">Kachumbari Salad</a>
                </div>
            </div>

            <!-- Ad Placement: Sidebar Ad -->
            <div id="sidebar-ad-1" class="ad-container sidebar-ad mt-lg">
                <span class="ad-label">ADVERTISEMENT</span>
                <p class="small-text">Local brand affiliate spot.</p>
            </div>
        </aside>
    </div>

    <!-- Comments and Reviews Section -->
    <section id="reviews-section" class="section-container mt-xl">
        <h2 class="h3-heading">Ratings & Reviews</h2>
        <div id="rating-summary" class="rating-summary">
            <span id="average-rating" class="average-rating-text">4.9</span>
            <div id="rating-stars-placeholder">
                <!-- rating-stars.html component will be loaded here -->
                <i class="fas fa-star primary-color"></i>
                <i class="fas fa-star primary-color"></i>
                <i class="fas fa-star primary-color"></i>
                <i class="fas fa-star primary-color"></i>
                <i class="fas fa-star-half-alt primary-color"></i>
            </div>
            <span id="total-reviews-count" class="muted-text">(1,200 total)</span>
        </div>

        <!-- User Review Form (Logged in users only) -->
        <div id="review-form-container" class="card mt-lg hidden-logged-out">
            <h4 class="h5-heading">Leave a Review</h4>
            <div id="user-rating-input">
                <span class="muted-text">Your Rating:</span>
                <!-- Star inputs here -->
            </div>
            <textarea id="review-text-input" placeholder="Share your experience cooking this recipe..."></textarea>
            <button id="submit-review-btn" class="button primary-button">Submit Review</button>
        </div>

        <!-- Comments List -->
        <div id="comments-list" class="comments-list mt-lg">
            <!-- Dynamic comments loaded by JS (includes moderation buttons for admin/mod) -->
            <div class="comment-item card shadow-sm">
                <p class="comment-text">"Amazing recipe! Took me back home. The flavor was perfect!"</p>
                <div class="comment-meta">
                    <span class="comment-author">— Lindiwe K.</span>
                    <span class="comment-date muted-text"> | 2 hours ago</span>
                </div>
                <!-- Admin/Mod tools here -->
            </div>
        </div>
    </section>
</section>
